apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: YOUR-PRIMARY-CDS-INGRESS
  namespace: YOUR-NAMESPACE
  annotations:
    nginx.ingress.kubernetes.io/configuration-snippet: |
      proxy_set_header X-Forwarded-For \$proxy_add_x_forwarded_for;
      proxy_set_header X-Scheme \$scheme;
      proxy_set_header X-Forwarded-Proto \$scheme;
      add_header Content-Security-Policy upgrade-insecure-requests;
    nginx.ingress.kubernetes.io/proxy-body-size: "150m" # edit according to the file size you require

    nginx.org/client-max-body-size: "150m" # edit according to the file size you require
spec:
  ingressClassName: nginx
  rules:
    - host: cds-YOUR-APP-NAME.YOUR-HOSTNAME
      http:
        paths:
          - backend:
              service:
                name: YOUR-PRIMARY-CDS-SERVICE
                port:
                  number: 8081
            pathType: Prefix
            path: /YOUR-PRIMARY-CDS-SERVICE ** is this correct?? **
          - backend:
              service:
                name: YOUR-PRIMARY-CDS-SERVICE
                port:
                  number: 8080
            pathType: Prefix
            path: /api/v1/
#  tls: # Optional; the user needs to customize the Entando operator ConfigMap to also use TLS is used here
#    - hosts:
#        - cds-YOUR-APP-NAME.YOUR-HOSTNAME 
#      secretName: cds-tls ** should this be YOUR-TLS-SECRET to match the name for the ConfigMap below?**